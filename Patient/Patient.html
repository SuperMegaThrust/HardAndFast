<head>
  <title>Patient</title>
</head>

<body>
	{{> tempBody}}
</body>

<template name="tempBody">
	{{> loginButtons}} 

	{{#unless currentUser}}
		<input type="checkbox" checked="{{ispatient}}" class="patientCheck">
		<label>Patient?</label>
	{{/unless}}

	{{#if currentUser}}
		{{#if isPatient}}
	  		<h1>Patient</h1>
	  		{{> tempUserID}}
		    <p>Welcome, please add your measurements</p>
		   	{{> measurements}}
		{{/if}}

		{{#unless isPatient}}
	  		<h1>Doctor</h1>
		    <p>Welcome Dr </p>
  			{{> drPatients}}
  			{{> tempAllUsers}}
		{{/unless}}
{{/if}}

</template>

<!-- <template name="doctorPatient">
		<input type="checkbox" checked="!{{isDoctor}}" name="doctorPatientCheck">
		<label>Patient?</label>
</template> -->


<!-- DOCTOR SECTION -->
<template name="drPatients">
	<form class="new-patient">
    	<input type="text" name="patientID" placeholder="Enter your new patient ID" />
 	</form>

 	{{DoctorsPatients}}
</template>

<template name="tempAllUsers">
 	<p>My patients</p>
 	{{#each patientsLinked}}
 		<p>{{patientID}} &nbsp; &nbsp; {{createdAt}}</p> 
 	{{/each}}
 	 <p>All users</p>
 	{{#each allUsers}}
 		<p>{{_id}}</p> 
 	{{/each}}
</template>
<!-- END DOCTOR SECTION -->


<!-- PATIENT SECTION -->
<template name="tempUserID">
		Give this ID to your doc yo - {{tempUserID}}
</template>

<template name="measurements">
	<form class="submit-measurements">
		{{#each fields}}
			<p>{{label}}</p> 
			<input name="{{name}}" value={{value}} />
		{{/each}}
		<br><br>
		<input type="submit" value="Submit Measurements" />
	</form>
	<table>
		<thead>
			<tr>
				<th>Date</th>
				<th>Blood Pressure</th>
				<th>Heart Rate</th>
				<th>Weight</th>
			</tr>
		</thead>
		<tbody>
			{{#each measurements}}
				<tr>
					<td>{{date}}</td>
					<td>{{bloodPressure}}</td>
					<td>{{heartRate}}</td>
					<td>{{weight}}</td>
				</tr>
			{{/each}}
		</tbody>
	</table>
</template>
<!-- END PATIENT SECTION -->
